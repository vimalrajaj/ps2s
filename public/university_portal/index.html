<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>University Administration Portal</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style-premium.css">
</head>
<body>
    <div class="dashboard-container">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <i class="fas fa-university"></i>
                    <h3>University Portal</h3>
                </div>
            </div>
            <nav class="sidebar-nav">
                <ul>
                    <li class="nav-item active">
                        <a href="#dashboard" class="nav-link" data-section="dashboard">
                            <i class="fas fa-chart-pie"></i>
                            <span>Dashboard</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#create-student" class="nav-link" data-section="create-student">
                            <i class="fas fa-user-plus"></i>
                            <span>Create Student</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#create-faculty" class="nav-link" data-section="create-faculty">
                            <i class="fas fa-chalkboard-teacher"></i>
                            <span>Create Faculty</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#departments" class="nav-link" data-section="departments">
                            <i class="fas fa-building"></i>
                            <span>Departments</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#faculty-list" class="nav-link" data-section="faculty-list">
                            <i class="fas fa-users"></i>
                            <span>Faculty List</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#assign-mentor" class="nav-link" data-section="assign-mentor">
                            <i class="fas fa-user-tie"></i>
                            <span>Assign Mentors</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#subjects" class="nav-link" data-section="subjects">
                            <i class="fas fa-book"></i>
                            <span>Subjects</span>
                        </a>
                    </li>
                </ul>
            </nav>
            <div class="sidebar-footer">
                <button class="btn btn-outline-light btn-sm" onclick="logout()">
                    <i class="fas fa-sign-out-alt"></i> Logout
                </button>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Enhanced Header -->
            <header class="main-header">
                <div class="header-content">
                    <div class="header-left">
                        <button class="mobile-toggle">
                            <i class="fas fa-bars"></i>
                        </button>
                        <h1 class="page-title" id="pageTitle">Dashboard</h1>
                    </div>
                    <div class="header-actions">
                        <button class="refresh-btn" onclick="refreshData()">
                            <i class="fas fa-sync-alt"></i>
                            Refresh
                        </button>
                        <div class="user-info">
                            <div class="user-avatar">
                                <i class="fas fa-user"></i>
                            </div>
                            <div class="user-details">
                                <span id="welcomeMessage">Administrator</span>
                                <small>University Admin</small>
                            </div>
                        </div>
                    </div>
                </div>
            </header>

            <!-- Dashboard Section -->
            <section id="dashboard" class="content-section active">
                <div class="stats-cards">
                    <div class="stats-card clickable-card" onclick="openStudentsDetails()">
                        <div class="stats-icon">
                            <i class="fas fa-graduation-cap"></i>
                        </div>
                        <div class="stats-content">
                            <h3 id="totalStudents">0</h3>
                            <p>Total Students</p>
                            <small class="text-muted mt-1">Click to view details</small>
                        </div>
                    </div>
                    <div class="stats-card clickable-card" onclick="openFacultyDetails()">
                        <div class="stats-icon">
                            <i class="fas fa-chalkboard-teacher"></i>
                        </div>
                        <div class="stats-content">
                            <h3 id="totalFaculty">0</h3>
                            <p>Total Faculty</p>
                            <small class="text-muted mt-1">Click to view details</small>
                        </div>
                    </div>
                    <div class="stats-card clickable-card" onclick="openDepartmentsDetails()">
                        <div class="stats-icon">
                            <i class="fas fa-building"></i>
                        </div>
                        <div class="stats-content">
                            <h3 id="totalDepartments">0</h3>
                            <p>Departments</p>
                            <small class="text-muted mt-1">Click to view details</small>
                        </div>
                    </div>
                </div>

                <div class="dashboard-content">
                    <div class="row">
                        <div class="col-md-8">
                            <div class="card">
                                <div class="card-header">
                                    <h5>Department-wise Statistics</h5>
                                </div>
                                <div class="card-body">
                                    <canvas id="departmentChart"></canvas>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="card">
                                <div class="card-header">
                                    <h5>Quick Actions</h5>
                                </div>
                                <div class="card-body">
                                    <div class="d-grid gap-2">
                                        <button class="btn btn-primary" onclick="showSection('create-student')">
                                            <i class="fas fa-user-plus"></i> Add Student
                                        </button>
                                        <button class="btn btn-success" onclick="showSection('create-faculty')">
                                            <i class="fas fa-chalkboard-teacher"></i> Add Faculty
                                        </button>
                                        <button class="btn btn-info" onclick="showSection('assign-mentor')">
                                            <i class="fas fa-user-tie"></i> Assign Mentors
                                        </button>
                                        <button class="btn btn-warning" onclick="refreshData()">
                                            <i class="fas fa-sync-alt"></i> Refresh Data
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Create Student Section -->
            <section id="create-student" class="content-section">
                <div class="card">
                    <div class="card-header">
                        <h5>Create New Student Account</h5>
                    </div>
                    <div class="card-body">
                        <form id="studentForm">
                            <div class="row">
                                <div class="col-md-6">
                                    <h6 class="text-primary">Personal Information</h6>
                                    <div class="mb-3">
                                        <label for="registerNumber" class="form-label">Register Number *</label>
                                        <input type="text" class="form-control" id="registerNumber" required>
                                    </div>
                                    <div class="mb-3">
                                        <label for="firstName" class="form-label">First Name *</label>
                                        <input type="text" class="form-control" id="firstName" required>
                                    </div>
                                    <div class="mb-3">
                                        <label for="lastName" class="form-label">Last Name *</label>
                                        <input type="text" class="form-control" id="lastName" required>
                                    </div>
                                    <div class="mb-3">
                                        <label for="email" class="form-label">Email *</label>
                                        <input type="email" class="form-control" id="email" required>
                                    </div>
                                    <div class="mb-3">
                                        <label for="phone" class="form-label">Phone</label>
                                        <input type="tel" class="form-control" id="phone">
                                    </div>
                                    <div class="mb-3">
                                        <label for="dateOfBirth" class="form-label">Date of Birth *</label>
                                        <input type="date" class="form-control" id="dateOfBirth" required>
                                    </div>
                                    <div class="mb-3">
                                        <label for="gender" class="form-label">Gender *</label>
                                        <select class="form-control" id="gender" required>
                                            <option value="">Select Gender</option>
                                            <option value="Male">Male</option>
                                            <option value="Female">Female</option>
                                            <option value="Other">Other</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <h6 class="text-primary">Academic Information</h6>
                                    <div class="mb-3">
                                        <label for="department" class="form-label">Department *</label>
                                        <select class="form-control" id="department" required onchange="loadAcademicYears()">
                                            <option value="">Select Department</option>
                                        </select>
                                    </div>
                                    <div class="mb-3">
                                        <label for="academicYear" class="form-label">Academic Year *</label>
                                        <select class="form-control" id="academicYear" required onchange="loadClasses()">
                                            <option value="">Select Academic Year</option>
                                        </select>
                                        <div class="form-text">Choose the academic year for the student</div>
                                    </div>
                                    <div class="mb-3">
                                        <label for="studentClass" class="form-label">Class & Section *</label>
                                        <select class="form-control" id="studentClass" required>
                                            <option value="">Select Class & Section</option>
                                        </select>
                                        <div class="form-text">Choose the specific class and section</div>
                                    </div>
                                    <div class="mb-3">
                                        <label for="currentSemester" class="form-label">Current Semester</label>
                                        <input type="number" class="form-control" id="currentSemester" value="1" min="1" max="8">
                                    </div>
                                    <div class="mb-3">
                                        <label for="currentYear" class="form-label">Current Year</label>
                                        <input type="number" class="form-control" id="currentYear" value="1" min="1" max="4">
                                    </div>
                                    <div class="mb-3">
                                        <label for="password" class="form-label">Password (Optional - Register Number will be used if empty)</label>
                                        <input type="password" class="form-control" id="password">
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-12">
                                    <h6 class="text-primary">Parent/Guardian Information</h6>
                                    <div class="row">
                                        <div class="col-md-4">
                                            <div class="mb-3">
                                                <label for="parentName" class="form-label">Parent/Guardian Name</label>
                                                <input type="text" class="form-control" id="parentName">
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="mb-3">
                                                <label for="parentPhone" class="form-label">Parent Phone</label>
                                                <input type="tel" class="form-control" id="parentPhone">
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="mb-3">
                                                <label for="parentEmail" class="form-label">Parent Email</label>
                                                <input type="email" class="form-control" id="parentEmail">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="mb-3">
                                        <label for="address" class="form-label">Address</label>
                                        <textarea class="form-control" id="address" rows="3"></textarea>
                                    </div>
                                </div>
                            </div>
                            <div class="text-end">
                                <button type="button" class="btn btn-secondary me-2" onclick="resetStudentForm()">Reset</button>
                                <button type="submit" class="btn btn-primary">Create Student Account</button>
                            </div>
                        </form>
                    </div>
                </div>
            </section>

            <!-- Create Faculty Section -->
            <section id="create-faculty" class="content-section">
                <div class="card">
                    <div class="card-header">
                        <h5>Create New Faculty Account</h5>
                    </div>
                    <div class="card-body">
                        <form id="facultyForm">
                            <div class="row">
                                <div class="col-md-6">
                                    <h6 class="text-primary">Personal Information</h6>
                                    <div class="mb-3">
                                        <label for="facultyCode" class="form-label">Faculty ID/Code *</label>
                                        <input type="text" class="form-control" id="facultyCode" required>
                                    </div>
                                    <div class="mb-3">
                                        <label for="facultyFirstName" class="form-label">First Name *</label>
                                        <input type="text" class="form-control" id="facultyFirstName" required>
                                    </div>
                                    <div class="mb-3">
                                        <label for="facultyLastName" class="form-label">Last Name *</label>
                                        <input type="text" class="form-control" id="facultyLastName" required>
                                    </div>
                                    <div class="mb-3">
                                        <label for="facultyEmail" class="form-label">Email *</label>
                                        <input type="email" class="form-control" id="facultyEmail" required>
                                    </div>
                                    <div class="mb-3">
                                        <label for="facultyPhone" class="form-label">Phone</label>
                                        <input type="tel" class="form-control" id="facultyPhone">
                                    </div>
                                    <div class="mb-3">
                                        <label for="facultyDOB" class="form-label">Date of Birth</label>
                                        <input type="date" class="form-control" id="facultyDOB">
                                    </div>
                                    <div class="mb-3">
                                        <label for="facultyGender" class="form-label">Gender</label>
                                        <select class="form-control" id="facultyGender">
                                            <option value="">Select Gender</option>
                                            <option value="Male">Male</option>
                                            <option value="Female">Female</option>
                                            <option value="Other">Other</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <h6 class="text-primary">Professional Information</h6>
                                    <div class="mb-3">
                                        <label for="facultyDepartment" class="form-label">Department *</label>
                                        <select class="form-control" id="facultyDepartment" required>
                                            <option value="">Select Department</option>
                                        </select>
                                    </div>
                                    <div class="mb-3">
                                        <label for="designation" class="form-label">Role/Designation *</label>
                                        <select class="form-control" id="designation" required>
                                            <option value="">Select Role/Designation</option>
                                            <option value="Professor">Professor</option>
                                            <option value="Associate Professor">Associate Professor</option>
                                            <option value="Assistant xProfessor">Assistant Professor</option>
                                            <option value="HOD">Head of Department (HOD)</option>
                                            <option value="Dean">Dean</option>
                                            <option value="Principal">Principal</option>
                                            <option value="Vice Principal">Vice Principal</option>
                                            <option value="Lecturer">Lecturer</option>
                                            <option value="Senior Lecturer">Senior Lecturer</option>
                                            <option value="Research Supervisor">Research Supervisor</option>
                                            <option value="Lab Instructor">Lab Instructor</option>
                                        </select>
                                    </div>
                                    <div class="mb-3">
                                        <label for="qualification" class="form-label">Qualification</label>
                                        <input type="text" class="form-control" id="qualification" placeholder="e.g., Ph.D., M.Tech., M.Sc.">
                                    </div>
                                    <div class="mb-3">
                                        <label for="experience" class="form-label">Experience (Years)</label>
                                        <input type="number" class="form-control" id="experience" min="0" max="50">
                                    </div>
                                    <div class="mb-3">
                                        <label for="joiningDate" class="form-label">Date of Joining</label>
                                        <input type="date" class="form-control" id="joiningDate">
                                    </div>
                                    <div class="mb-3">
                                        <label for="facultyPassword" class="form-label">Password (Optional - Faculty Code will be used if empty)</label>
                                        <input type="password" class="form-control" id="facultyPassword">
                                    </div>
                                </div>
                            </div>
                            <div class="text-end">
                                <button type="button" class="btn btn-secondary me-2" onclick="resetFacultyForm()">Reset</button>
                                <button type="submit" class="btn btn-primary">Create Faculty Account</button>
                            </div>
                        </form>
                    </div>
                </div>
            </section>

            <!-- Departments Section -->
            <section id="departments" class="content-section">
                <div class="row">
                    <div class="col-md-4">
                        <div class="card">
                            <div class="card-header">
                                <h5><i class="fas fa-plus-circle me-2"></i>Department Management</h5>
                            </div>
                            <div class="card-body">
                                <form id="departmentForm">
                                    <div class="mb-3">
                                        <label for="deptCode" class="form-label">Department Code *</label>
                                        <input type="text" class="form-control" id="deptCode" required maxlength="10" placeholder="e.g., CSE, ECE, MECH">
                                        <div class="form-text">Short code to identify the department (max 10 characters)</div>
                                    </div>
                                    <div class="mb-3">
                                        <label for="deptName" class="form-label">Department Name *</label>
                                        <input type="text" class="form-control" id="deptName" required placeholder="e.g., Computer Science & Engineering">
                                        <div class="form-text">Full name of the department</div>
                                    </div>
                                    <div class="text-end">
                                        <button type="button" class="btn btn-secondary me-2" onclick="resetDepartmentForm()">Reset</button>
                                        <button type="submit" class="btn btn-primary">Create Department</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-8">
                        <div class="card">
                            <div class="card-header">
                                <h5><i class="fas fa-list me-2"></i>Department List</h5>
                                <button class="btn btn-sm btn-outline-primary float-end" onclick="loadDepartments()">
                                    <i class="fas fa-sync-alt"></i> Refresh
                                </button>
                            </div>
                            <div class="card-body">
                                <div id="departmentTree">
                                    <div class="text-center text-muted py-4">
                                        <i class="fas fa-building fa-3x mb-3"></i>
                                        <p>Loading departments...</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Faculty List Section -->
            <section id="faculty-list" class="content-section">
                <div class="card">
                    <div class="card-header">
                        <h5>Faculty Management</h5>
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table table-striped">
                                <thead>
                                    <tr>
                                        <th>Faculty ID</th>
                                        <th>Name & Email</th>
                                        <th>Department</th>
                                        <th>Designation</th>
                                        <th>Contact</th>
                                        <th>Details</th>
                                        <th>Status & Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="facultyTableBody">
                                    <tr><td colspan="7" class="text-center text-muted">Loading faculty list...</td></tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Assign Mentor Section -->
            <section id="assign-mentor" class="content-section">
                <div class="card">
                    <div class="card-header">
                        <h5><i class="fas fa-user-tie me-2"></i>Assign Faculty as Class Mentor</h5>
                    </div>
                    <div class="card-body">
                        <form id="mentorAssignForm">
                            <div class="row">
                                <div class="col-md-3">
                                    <div class="mb-3">
                                        <label for="mentorDepartment" class="form-label">Department *</label>
                                        <select class="form-control" id="mentorDepartment" required onchange="loadMentorAcademicYears()">
                                            <option value="">Select Department</option>
                                        </select>
                                        <div class="form-text">Choose the department first</div>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="mb-3">
                                        <label for="mentorAcademicYear" class="form-label">Academic Year *</label>
                                        <select class="form-control" id="mentorAcademicYear" required onchange="loadMentorClasses()" disabled>
                                            <option value="">Select Academic Year</option>
                                        </select>
                                        <div class="form-text">Choose the academic year</div>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="mb-3">
                                        <label for="mentorClass" class="form-label">Class & Section *</label>
                                        <select class="form-control" id="mentorClass" required onchange="loadMentorFaculty()" disabled>
                                            <option value="">Select Class</option>
                                        </select>
                                        <div class="form-text">Choose the specific class</div>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="mb-3">
                                        <label for="mentorFaculty" class="form-label">Faculty *</label>
                                        <select class="form-control" id="mentorFaculty" required disabled>
                                            <option value="">Select Faculty</option>
                                        </select>
                                        <div class="form-text">Choose the mentor faculty</div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-12">
                                    <div id="selectionSummary" class="alert alert-info" style="display: none;">
                                        <h6><i class="fas fa-info-circle me-2"></i>Assignment Summary</h6>
                                        <p id="summaryText" class="mb-0"></p>
                                    </div>
                                </div>
                            </div>
                            <div class="text-end">
                                <button type="button" class="btn btn-secondary me-2" onclick="resetMentorForm()">Reset</button>
                                <button type="submit" class="btn btn-primary" id="assignMentorBtn" disabled>
                                    <i class="fas fa-user-check"></i> Assign Mentor
                                </button>
                            </div>
                        </form>
                        
                        <hr>
                        
                        <div class="d-flex justify-content-between align-items-center mb-3">
                            <h6><i class="fas fa-list me-2"></i>Current Mentor Assignments</h6>
                            <button class="btn btn-sm btn-outline-primary" onclick="loadMentorAssignments()">
                                <i class="fas fa-sync-alt"></i> Refresh
                            </button>
                        </div>
                        <div class="table-responsive">
                            <table class="table table-striped table-hover">
                                <thead class="table-dark">
                                    <tr>
                                        <th>Department</th>
                                        <th>Academic Year</th>
                                        <th>Class & Section</th>
                                        <th>Mentor Faculty</th>
                                        <th>Contact</th>
                                        <th>Students</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="mentorAssignmentsTable">
                                    <tr><td colspan="7" class="text-center text-muted">Loading mentor assignments...</td></tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Subjects Section -->
            <section id="subjects" class="content-section">
                <div class="row">
                    <!-- Left Side - Create Subject -->
                    <div class="col-md-6">
                        <div class="card">
                            <div class="card-header">
                                <h5><i class="fas fa-plus-circle me-2"></i>Create New Subject</h5>
                            </div>
                            <div class="card-body">
                                <form id="addSubjectForm">
                                    <div class="mb-3">
                                        <label for="newSubjectCode" class="form-label">Subject Code *</label>
                                        <input type="text" class="form-control" id="newSubjectCode" required placeholder="e.g., CSE101">
                                    </div>
                                    <div class="mb-3">
                                        <label for="newSubjectName" class="form-label">Subject Name *</label>
                                        <input type="text" class="form-control" id="newSubjectName" required placeholder="e.g., Programming Fundamentals">
                                    </div>
                                    <div class="mb-3">
                                        <label for="newSubjectDepartment" class="form-label">Department *</label>
                                        <select class="form-control" id="newSubjectDepartment" required onchange="loadDepartmentFaculty()">
                                            <option value="">Select Department</option>
                                        </select>
                                    </div>
                                    <div class="mb-3">
                                        <label for="newSubjectFaculty" class="form-label">Faculty *</label>
                                        <select class="form-control" id="newSubjectFaculty" required disabled>
                                            <option value="">Select Faculty</option>
                                        </select>
                                    </div>
                                    <div class="mb-3">
                                        <label for="newSubjectSemester" class="form-label">Semester *</label>
                                        <select class="form-control" id="newSubjectSemester" required>
                                            <option value="">Select Semester</option>
                                            <option value="1">Semester 1</option>
                                            <option value="2">Semester 2</option>
                                            <option value="3">Semester 3</option>
                                            <option value="4">Semester 4</option>
                                            <option value="5">Semester 5</option>
                                            <option value="6">Semester 6</option>
                                            <option value="7">Semester 7</option>
                                            <option value="8">Semester 8</option>
                                        </select>
                                    </div>
                                    <div class="mb-3">
                                        <label for="newSubjectAcademicYear" class="form-label">Academic Year *</label>
                                        <select class="form-control" id="newSubjectAcademicYear" required>
                                            <option value="">Select Academic Year</option>
                                            <option value="2024-25">2024-25</option>
                                            <option value="2025-26">2025-26</option>
                                            <option value="2026-27">2026-27</option>
                                            <option value="2027-28">2027-28</option>
                                        </select>
                                    </div>
                                    <div class="mb-3">
                                        <label for="newSubjectCredits" class="form-label">Credits</label>
                                        <input type="number" class="form-control" id="newSubjectCredits" min="1" max="6" value="3">
                                    </div>
                                    <div class="mb-3">
                                        <label for="newSubjectType" class="form-label">Subject Type</label>
                                        <select class="form-control" id="newSubjectType">
                                            <option value="Theory">Theory</option>
                                            <option value="Practical">Practical</option>
                                            <option value="Theory+Practical">Theory + Practical</option>
                                        </select>
                                    </div>
                                    <div class="text-end">
                                        <button type="button" class="btn btn-secondary me-2" onclick="resetSubjectForm()">Reset</button>
                                        <button type="submit" class="btn btn-success">
                                            <i class="fas fa-plus"></i> Create Subject
                                        </button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>

                    <!-- Right Side - Department List -->
                    <div class="col-md-6">
                        <div class="card">
                            <div class="card-header">
                                <h5><i class="fas fa-building me-2"></i>Departments</h5>
                                <button class="btn btn-sm btn-outline-primary float-end" onclick="loadSubjectDepartments()">
                                    <i class="fas fa-sync-alt"></i> Refresh
                                </button>
                            </div>
                            <div class="card-body">
                                <div id="departmentsList">
                                    <div class="text-center text-muted py-4">
                                        <i class="fas fa-building fa-3x mb-3"></i>
                                        <p>Loading departments...</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Department Subjects Section (Hidden initially) -->
            <section id="department-subjects" class="content-section">
                <div class="d-flex justify-content-between align-items-center mb-4">
                    <div>
                        <h4 id="departmentSubjectsTitle">Department Subjects</h4>
                        <small class="text-muted" id="departmentSubjectsSubtitle">Select a semester to view subjects</small>
                    </div>
                    <button class="btn btn-outline-secondary" onclick="backToSubjectsMain()">
                        <i class="fas fa-arrow-left me-2"></i>Back to Departments
                    </button>
                </div>
                
                <div class="row">
                    <!-- Left Side - Semester List (30%) -->
                    <div class="col-md-4">
                        <div class="card">
                            <div class="card-header">
                                <h6><i class="fas fa-calendar-alt me-2"></i>Semesters</h6>
                            </div>
                            <div class="card-body p-2">
                                <div class="list-group list-group-flush" id="semestersList">
                                    <button type="button" class="list-group-item list-group-item-action" onclick="loadSemesterSubjects(1)">
                                        <div class="d-flex justify-content-between align-items-center">
                                            <span><i class="fas fa-book-open me-2"></i>Semester 1</span>
                                            <span class="badge bg-primary rounded-pill" id="sem1Count">0</span>
                                        </div>
                                    </button>
                                    <button type="button" class="list-group-item list-group-item-action" onclick="loadSemesterSubjects(2)">
                                        <div class="d-flex justify-content-between align-items-center">
                                            <span><i class="fas fa-book-open me-2"></i>Semester 2</span>
                                            <span class="badge bg-primary rounded-pill" id="sem2Count">0</span>
                                        </div>
                                    </button>
                                    <button type="button" class="list-group-item list-group-item-action" onclick="loadSemesterSubjects(3)">
                                        <div class="d-flex justify-content-between align-items-center">
                                            <span><i class="fas fa-book-open me-2"></i>Semester 3</span>
                                            <span class="badge bg-primary rounded-pill" id="sem3Count">0</span>
                                        </div>
                                    </button>
                                    <button type="button" class="list-group-item list-group-item-action" onclick="loadSemesterSubjects(4)">
                                        <div class="d-flex justify-content-between align-items-center">
                                            <span><i class="fas fa-book-open me-2"></i>Semester 4</span>
                                            <span class="badge bg-primary rounded-pill" id="sem4Count">0</span>
                                        </div>
                                    </button>
                                    <button type="button" class="list-group-item list-group-item-action" onclick="loadSemesterSubjects(5)">
                                        <div class="d-flex justify-content-between align-items-center">
                                            <span><i class="fas fa-book-open me-2"></i>Semester 5</span>
                                            <span class="badge bg-primary rounded-pill" id="sem5Count">0</span>
                                        </div>
                                    </button>
                                    <button type="button" class="list-group-item list-group-item-action" onclick="loadSemesterSubjects(6)">
                                        <div class="d-flex justify-content-between align-items-center">
                                            <span><i class="fas fa-book-open me-2"></i>Semester 6</span>
                                            <span class="badge bg-primary rounded-pill" id="sem6Count">0</span>
                                        </div>
                                    </button>
                                    <button type="button" class="list-group-item list-group-item-action" onclick="loadSemesterSubjects(7)">
                                        <div class="d-flex justify-content-between align-items-center">
                                            <span><i class="fas fa-book-open me-2"></i>Semester 7</span>
                                            <span class="badge bg-primary rounded-pill" id="sem7Count">0</span>
                                        </div>
                                    </button>
                                    <button type="button" class="list-group-item list-group-item-action" onclick="loadSemesterSubjects(8)">
                                        <div class="d-flex justify-content-between align-items-center">
                                            <span><i class="fas fa-book-open me-2"></i>Semester 8</span>
                                            <span class="badge bg-primary rounded-pill" id="sem8Count">0</span>
                                        </div>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Right Side - Subject Details (70%) -->
                    <div class="col-md-8">
                        <div class="card">
                            <div class="card-header">
                                <h6 id="semesterSubjectsTitle"><i class="fas fa-list me-2"></i>Select a Semester</h6>
                            </div>
                            <div class="card-body">
                                <div id="semesterSubjectsDisplay">
                                    <div class="text-center text-muted py-5">
                                        <i class="fas fa-mouse-pointer fa-3x mb-3"></i>
                                        <p>Click on a semester from the left to view subjects</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </div>

    <!-- Loading Spinner -->
    <div id="loadingSpinner" class="loading-spinner" style="display: none;">
        <div class="spinner-border text-primary" role="status">
            <span class="visually-hidden">Loading...</span>
        </div>
    </div>

    <!-- Department Details Modal -->
    <div class="modal fade" id="departmentDetailsModal" tabindex="-1" aria-labelledby="departmentDetailsModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="departmentDetailsModalLabel">Department Details</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div id="departmentDetailsContent">
                        <!-- Dynamic content will be loaded here -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Academic Year Classes Modal -->
    <div class="modal fade" id="academicYearModal" tabindex="-1" aria-labelledby="academicYearModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="academicYearModalLabel">Classes in Academic Year</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div id="academicYearContent">
                        <!-- Dynamic content will be loaded here -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Class Students Modal -->
    <div class="modal fade" id="classStudentsModal" tabindex="-1" aria-labelledby="classStudentsModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="classStudentsModalLabel">Students in Class</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div id="classStudentsContent">
                        <!-- Dynamic content will be loaded here -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Custom JS -->
    <script src="script.js"></script>
</body>
</html>